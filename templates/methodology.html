<h3>How to Use the App</h3>
<p>
    Fill in the simulation settings on the left (deck size, initial hand size, number of draw steps, number of
    simulations, and random seed). Then, enter your deck’s configuration in JSON format in the provided text area.
    Finally, click “Run simulation” to start the simulation and view the results and charts on the right.
</p>

<h3>How to Encode Your Cards in JSON</h3>
<ul>
    <li>
        <strong>Card Strings:</strong> Each key in the JSON represents a card, and its value is the quantity in the
        deck.
    </li>
    <li>
        <strong>Lands:</strong> Lands are identified by a leading <code>&gt;</code>. For example, <code>&gt;R</code>
        represents a red-producing land.
    </li>
    <li>
        <strong>Mana-Producing Spells:</strong> If a spell produces mana, include a <code>&gt;</code> in the card string
        to separate the cost from the produced mana. For example, <code>2*G&gt;WUBRG</code> means the card has a cost
        (with uncolored mana noted by <code>*</code>) and can produce any of the colors listed after the
        <code>&gt;</code>.
    </li>
    <li>
        <strong>Normal Spells:</strong> Spells without a <code>&gt;</code> are treated as non-mana-producing spells.
        Their cost is encoded in a string such as <code>3*U2W</code>, where digits before <code>*</code> or a color
        letter denote the required mana.
    </li>
</ul>

<h3>How the Simulation Works (High Level)</h3>
<p>
    The simulation runs many iterations (as set by the user) of a simplified game scenario. For each simulation:
</p>
<ol>
    <li>A deck is built from your JSON configuration and shuffled.</li>
    <li>For each turn, the hand size increases (depending on whether you are “on play” or “on draw”).</li>
    <li>The simulation checks the hand to determine which spells are <em>dead</em> (i.e. not castable) based on
        available mana from lands and any previously cast mana-producing spells.</li>
    <li>The app also tests single-color land replacements in the hand to see which color would best reduce the number of
        dead spells on that turn.</li>
    <li>Results are aggregated across simulations and turned into summary statistics and charts.</li>
</ol>

<h3>Key Assumptions in the Simulation</h3>
<ul>
    <li>
        <strong>Fixed Turn Structure:</strong> The simulation assumes a fixed number of turns and a set increase in hand
        size (depending on “on play” or “on draw” rules).
    </li>
    <li>
        <strong>One Mana per Land:</strong> Each land or mana-producing source is assumed to provide exactly one mana
        per turn.
    </li>
    <li>
        <strong>Simplified Casting:</strong> The simulation uses a basic algorithm to determine if a spell can be cast,
        checking combinations of available mana sources without simulating more complex in‐game interactions.
    </li>
    <li>
        <strong>No Re-check for Known Castables:</strong> Once a normal spell is deemed castable in a previous turn, it
        is assumed to remain castable in later turns without further checks.
    </li>
</ul>

<h3>Interpreting the Key Statistics</h3>
<ul>
    <li>
        <strong>% of Turns with 0 Dead Spells:</strong> This statistic shows the proportion of simulated turns in which
        every spell drawn could be cast.
    </li>
    <li>
        <strong>Expected Dead Spells per Turn:</strong> This is the average number of spells per turn that are “dead”
        (i.e. not castable).
    </li>
    <li>
        <strong>Most Desired Pip Color:</strong> The color which, if used to replace a land, most frequently resulted in
        fewer dead spells.
    </li>
    <li>
        <strong>Least Desired Pip Color:</strong> Among the colors present in your deck, the one that least improved the
        situation when swapped in.
    </li>
</ul>

<h3>How to Read the Charts</h3>
<ul>
    <li>
        <strong>Distribution of Dead Spells Chart:</strong> This bar chart displays the fraction of simulations (for
        each turn) that resulted in a given number of dead spells, ignoring cases where there were zero dead spells.
    </li>
    <li>
        <strong>Best Color to Replace a Land Chart:</strong> This line chart shows, turn by turn, the percentage of
        simulations where switching a land to a specific color would have been most beneficial in reducing dead spells.
    </li>
</ul>

<h3>Simplification of Real MTG Games</h3>
<p>
    This simulation focuses solely on mana availability and the ability to cast spells. It does not capture many of the
    complexities of real Magic. For example:
</p>
<ul>
    <li>It does not consider card abilities such as card draw, cycling, tutoring, exhaust abilities, etc.</li>
    <li>We aren't simulating anything related to gameplay (this is just about greedy use of mana).</li>
    <li>A card is considered castable if it would have been possible to cast it given the mana sources you have, even if
        you have other competing uses for that mana.</li>
    <li>It doesn't consider the value of holding onto a card for a future turn.</li>
    <li>It is able to make perfect decisions about what lands to have played in prior turns in order to maximize the
        ability to cast any given spell on this turn.</li>
    <li>We aren't keeping track of any affinity cost reductions.</li>
</ul>
<p>
    So, in general, think about this is the most <i>optimistic</i> scenario for spending your mana.</li>
</p>